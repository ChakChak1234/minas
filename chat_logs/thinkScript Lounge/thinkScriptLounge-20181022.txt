------- Saturday, October 20, 2018 -------
15:45 Grasul: def LL = Lowest(low,9);
def NewLow = if low == LL then 1 else Double.NaN;
#def ReferenceHigh = if NewLow == 1 then high
#    else if high > ReferenceHigh then high 
#    else ReferenceHigh[1];
#def BullCounter = if NewLow == 1 then 0 
#    else if high > ReferenceHigh then BullCounter[1]+1 
#    else BullCounter[1];
15:46 Grasul: minus the commenting of course, I can't firgure out why ReferenceHigh doesn't ever seem to have a value
15:46 Grasul: if I plot ReferenceHigh I get nothing
15:47 JohnnyQuotron: But if you are like me and you look at Gaussian RSI Laguerre as the primary indicator but TMO and Gaussian SMA Crossovers then having a little quick and dirty profit calc on each lower study is reassuring.
15:56 Nube: grasul, make your reference high tow variables. The first being the high at the ll and the next being for highs above that. Doing that will let you see where the problem is.
15:56 Grasul: ok, thank you
15:58 JohnnyQuotron: trying to self-assign a non initialized rec...   do you have a little ! on your chart?
16:01 JohnnyQuotron: grasul.. please post the fix as I need to learn how to fix that error as well
16:09 Grasul: will do
16:30 amalia: Look at Renko study for example
16:41 MTS1: JQ; I think you can click on the ! to figure out the cause.
16:46 Grasul: I figured out my issue. The line that read def ReferenceHigh = if NewLow == 1 then 0 else if high > "ReferenceHigh" then high else ReferenceHigh[1];
16:47 Grasul: The ReferenceHigh in quotes needs to be ReferenceHigh[1], it can't test against itself, it needs to test against the previous bar
16:48 MTS1: makes sense; good feeling you found it right?
16:49 Grasul: I don't know about you guys, I consider myself pretty decent at logic chains, but in my coding, its almost always a logic issue
16:50 Grasul: (once you know the basic syntax)
16:50 Grasul: squishing bugs is always a good feeling past the initital frustration
16:50 MTS1: so it is for trading, plus human psycology..
16:51 MTS1: In scripting helps to know how to debug to see the values you're working with. Or breaking down statemetns smaller to see if the final statement is correct logic.
16:52 Grasul: yah, I code for at least part of my job for a living (though SQL, not this) so I get lots of practice squishing bugs.  The human part of trading, testing against yourself and figuring what makes yourself tick are for sure the interesting and challenging part.
16:54 Grasul: in this language, you do so much of the work in the variable definition, I think I'm just going to start by plotting almost all of my variables as I write the code and then remove the variable plots I don't care about once I'm sure they're getting the right answers.  It seems like the best way to debug.
16:56 MTS1: That probably gets cumbersome once you're somewhat familiar with the syntax, plus you cannot plot recursive variables that reference themselves. But yes that is the right way to debug; if there are many variables I'll debug a section at a time though. (and add plot statements for recursive variables that can easily be commented out again).
16:57 Grasul: that makes sense, I appreciate the help
16:57 MTS1: yw
17:21 amalia: yw
18:22 Vimes: re: gaps, someting i shared a few months ago to estimate fill % and stats, needs to be on a chart with extended hours hidden and the gap fill stats are based on teh first bar, so to estimate stats based on fill in the first 30mins set the chart to a 30min aggregation, the labels might need to be adjusted or split out for smaller screens
#vimes - gap stas - chat discussion 2018-07-12
#only evaulates the first opening bar so set the chart to desired period
# for evaulation of gap fills in the first opening range of the chart period

declare hide_on_daily;
input mingap = 6; #hint mingap: minimum gap to trade in pts (i.e identify gap trades of at least 6 /es pts or 10 /ym points)
input maxgap = 60;#hint maxgap: maxium gap to evaulate (filter to not analyze larger moves which might indicate  continuation
input usethreshold = yes;#hint usethreshold: apply threshold? yes will only consider gaps less than threshold; no will evaulate every gap
def o = if GetYYYYMMDD() > GetYYYYMMDD()[1] then open else o[1];
def c = if GetYYYYMMDD() > GetYYYYMMDD()[1] then close[1] else c[1];
#helper scripts
script retrace {
    input retrace_per = 0.5;
    input o = open;
    input c = close;
    def retracement = if o > c then o - (o - c) * retrace_per else o + (c - o) * retrace_per;
    plot retrace = retracement;
}
script guf {
    input Gap = 1;
    input tgt = close;
    plot guf = if Gap and low <= tgt then 1 else 0;
    plot percfill = totalsum(guf)/totalsum(gap)*100;
script gdf {
    input gap = 1;
    plot gdf = if gap and high >= tgt then 1 else 0;
    plot percfill = totalsum(gdf)/totalsum(gap)*100;
script pts {
    input gf = 1;
    plot pts = if gf and open > tgt then open - tgt else if gf and open < tgt then tgt - open else 0;
    def cnt = TotalSum(gf);
    plot totpts = totalsum(pts);
    plot avgpts = totpts / cnt;
    def exc = if gf and open > tgt then high - open else if gf and open < tgt then open - low else 0;
    plot avgexc = TotalSum(exc) / cnt;
    plot maxexc = highestAll(exc);
#retrace levels
plot retrace100 = retrace(1,o,c);
plot retrace75 = retrace(0.75,o,c);
plot retrace50 = retrace(0.5, o, c);
plot retrace25 = retrace(0.25, o, c);
def retrace10 = retrace(0.1,o,c);
def newday = GetYYYYMMDD() <> GetYYYYMMDD()[1] ; #only analyzing the first bar of the day based on the chart period
def GapUP = if o > c and newday and usethreshold and o-c>=mingap and o-c<=maxgap then 1
    else if o > c and newday and !usethreshold then 1 else 0;  
def GapDN = if o < c and newday and usethreshold and c-o>mingap and c-o<=maxgap then 1
    else if O < c and newday and !usethreshold then 1 else 0;
def cntGapUpDays = TotalSum(GapUP);
def cntGapDnDays = TotalSum(GapDN);
#50% retrace
#def guf50 = if GapUP and low <= retrace50 then 1 else 0;
def guf100 = guf(gapup,retrace100);
def guf75 = guf(gapup,retrace75);
def guf50 = guf(gapup,retrace50);
def guf25 = guf(gapup,retrace25);
def guf10 = guf(gapup,retrace10);
def gdf100 = gdf(gapdn,retrace100);
def gdf75 = gdf(gapdn,retrace75);
def gdf50 = gdf(gapdn,retrace50);
def gdf25 = gdf(gapdn,retrace25);
def gdf10 = gdf(gapdn,retrace10);
def pguf100 = guf(gapup,retrace100).percfill;
def pguf75 = guf(gapup,retrace75).percfill;
def pguf50 = guf(gapup,retrace50).percfill;
def pguf25 = guf(gapup,retrace25).percfill;
def pgdf100 = gdf(gapdn,retrace100).percfill;
def pgdf75 = gdf(gapdn,retrace75).percfill;
def pgdf50 = gdf(gapdn,retrace50).percfill;
def pgdf25 = gdf(gapdn,retrace25).percfill;
def ptsguf100 = pts(guf100, retrace100);
def totptsguf100 = pts(guf100, retrace100).totpts;
def avgptsguf100 = pts(guf100, retrace100).avgpts;
def avgexcguf100 = pts(guf100, retrace100).avgexc;
def maxexcguf100 = pts(guf100, retrace100).maxexc;
def ptsguf75 = pts(guf75, retrace75);
def totptsguf75 = pts(guf75, retrace75).totpts;
def avgptsguf75 = pts(guf75, retrace75).avgpts;
def avgexcguf75 = pts(guf75, retrace75).avgexc;
def maxexcguf75 = pts(guf75, retrace75).maxexc;
def ptsguf50 = pts(guf50, retrace50);
def totptsguf50 = pts(guf50, retrace50).totpts;
def avgptsguf50 = pts(guf50, retrace50).avgpts;
def avgexcguf50 = pts(guf50, retrace50).avgexc;
def maxexcguf50 = pts(guf50, retrace50).maxexc;
def ptsguf25 = pts(guf25, retrace25);
def totptsguf25 = pts(guf25, retrace25).totpts;
def avgptsguf25 = pts(guf25, retrace25).avgpts;
def avgexcguf25 = pts(guf25, retrace25).avgexc;
def maxexcguf25 = pts(guf25, retrace25).maxexc;
def ptsgdf100 = pts(gdf100, retrace100);
def totptsgdf100 = pts(gdf100, retrace100).totpts;
def avgptsgdf100 = pts(gdf100, retrace100).avgpts;
def avgexcgdf100 = pts(gdf100, retrace100).avgexc;
def maxexcgdf100 = pts(gdf100, retrace100).maxexc;
def ptsgdf75 = pts(gdf75, retrace75);
def totptsgdf75 = pts(gdf75, retrace75).totpts;
def avgptsgdf75 = pts(gdf75, retrace75).avgpts;
def avgexcgdf75 = pts(gdf75, retrace75).avgexc;
def maxexcgdf75 = pts(gdf75, retrace75).maxexc;
def ptsgdf50 = pts(gdf50, retrace50);
def totptsgdf50 = pts(gdf50, retrace50).totpts;
def avgptsgdf50 = pts(gdf50, retrace50).avgpts;
def avgexcgdf50 = pts(gdf50, retrace50).avgexc;
def maxexcgdf50 = pts(gdf50, retrace50).maxexc;
def ptsgdf25 = pts(gdf25, retrace25);
def totptsgdf25 = pts(gdf25, retrace25).totpts;
def avgptsgdf25 = pts(gdf25, retrace25).avgpts;
def avgexcgdf25 = pts(gdf25, retrace25).avgexc;
def maxexcgdf25 = pts(gdf25, retrace25).maxexc;
#check ladder to ladder as potential lower risk trade
def p10to25up = totalsum(guf25)/totalsum(guf10 or guf25)*100;
def p25to50up = totalsum(guf50)/totalsum(guf25 or guf50)*100;
def p50to75up = totalsum(guf75)/totalsum(guf50 or guf75)*100;
def p75to100up = totalsum(guf100)/totalsum(guf75 or guf100)*100;
def p10to25dn = totalsum(gdf25)/totalsum(gdf10 or gdf25)*100;
def p25to50dn = totalsum(gdf50)/totalsum(gdf25 or gdf50)*100;
def p50to75dn = totalsum(gdf75)/totalsum(gdf50 or gdf75)*100;
def p75to100dn = totalsum(gdf100)/totalsum(gdf75 or gdf100)*100;
def prof10to25dn = if gdf10 and gdf25 then retrace25-retrace10 else 0;
def prof25to50dn = if gdf25 and gdf50 then retrace50-retrace25 else 0;
def prof50to75dn = if gdf50 and gdf75 then retrace75-retrace50 else 0;
def prof75to100dn = if gdf75 and gdf100 then retrace100-retrace75 else 0;
def prof10to25up = if guf10 and guf25 then retrace10-retrace25 else 0;
def prof25to50up = if guf25 and guf50 then retrace25 - retrace50 else 0;
def prof50to75up = if guf50 and guf75 then retrace50 - retrace75 else 0;
def prof75to100up = if guf75 and guf100 then retrace75 - retrace100 else 0;
def c25u = totalsum(guf25);
def c50u = totalsum(guf50);
def c75u = totalsum(guf75);
def c100u = totalsum(guf100);
def ldr10to25up = totalsum(prof10to25up)/c25u;
def ldr25to50up = totalsum(prof25to50up)/c50u;
def ldr50to75up = totalsum(prof50to75up)/c75u;
def ldr75to100u = totalsum(prof75to100up)/c100u;
def c25d = totalsum(gdf25);
def c50d = totalsum(gdf50);
def c75d = totalsum(gdf75);
def c100d = totalsum(gdf100);
def ldr10to25dn = totalsum(prof10to25dn)/c25d;
def ldr25to50dn = totalsum(prof25to50dn)/c50d;
def ldr50to75dn = totalsum(prof50to75dn)/c75d;
def ldr75to100d = totalsum(prof75to100dn)/c100d;
addlabel(!usethreshold,"Considering all gaps at the open there are a total of up/down gaps =, "
  + astext(cntGapUpDays) + "/" +  astext(cntgapdndays)
    ,color.cyan);
addlabel(usethreshold,"Considering min/max gaps at the open of: " + astext(mingap) + "/" + astext(maxgap) 
    +", there are a total up/down gaps = " + astext(cntGapUpDays) + "/" +  astext(cntgapdndays)
AddLabel(yes, "Gap up and probability of 100/75/50/25% retrace on the first bar, "
    + astext(pguf100) + " / " + astext(pguf75) + " / " + astext(pguf50) +  " / " + astext(pguf25)
    + "%, Avg pts: " + AsText(avgptsguf100)  + " / " + AsText(avgptsguf75) + " / " + AsText(avgptsguf50) + " / " + AsText(avgptsguf25)
    + " Total pts: " + astext(totptsguf100) + " / " + astext(totptsguf75) + " / " + astext(totptsguf50) + " / " + astext(totptsguf25)
    + ", Avg negative excursion on winning trades: " + AsText(avgexcguf100) + "/" + AsText(avgexcguf75) + "/" + AsText(avgexcguf50) + "/" + AsText(avgexcguf25) 
    + ", Max Neg Excursion: " + AsText(maxexcguf100)
             , color = Color.yellow);
AddLabel(yes, "Gap down and probability of 100/75/50/25% retrace on first bar, "
    + astext(pgdf100) + " / " + astext(pgdf75) + " / " + astext(pgdf50) +  " / " + astext(pgdf25)
    + "%, Avg pts: " + AsText(avgptsgdf100)  + " / " + AsText(avgptsgdf75) + " / " + AsText(avgptsgdf50) + " / " + AsText(avgptsgdf25)
    + " Total pts: " + astext(totptsgdf100) + " / " + astext(totptsgdf75) + " / " + astext(totptsgdf50) + " / " + astext(totptsgdf25)
    + ", Avg negative excursion on winning trades: " + AsText(avgexcgdf100) + "/" + AsText(avgexcgdf75) + "/" + AsText(avgexcgdf50) + "/" + AsText(avgexcgdf25) 
    + ", Max Neg Excursion: " + AsText(maxexcgdf100)
             , color = Color.lime);
addlabel(yes,"Probability of 10/25, 25/50, 50/75, 75/100 ladder moves on a gap up (SELL): " 
    + astext(p10to25up) + "/" + astext(p25to50up) + "/" + astext(p50to75up) + "/" + astext(p75to100up) + "%"
    + ",AvgWin: " + astext(ldr10to25dn) + " / "+  astext(ldr25to50dn) + " / "+  astext(ldr50to75dn) + " / "+  astext(ldr75to100d)
,color.light_red);
addlabel(yes,"Probability of 10/25, 25/50, 50/75, 75/100 ladder moves on a gap down (BUY): " 
    + astext(p10to25dn) + "/" + astext(p25to50dn) + "/" + astext(p50to75dn) + "/" + astext(p75to100dn) + "%"
    + ",Avg win: " +  astext(ldr10to25up) + " / "+  astext(ldr25to50up) + " / "+  astext(ldr50to75up) + " / "+  astext(ldr75to100u) ,color.green);
18:42 UpTheCreek: guess that's what you call a simple script  ;)
18:51 cajun: Vimes, thankyou for post... interesting measures in there, like minimum negative excursion on winning trades.  i looked back at the july buffer you referenced, i see only few comments on gaps. 
18:51 cajun: could you say more about it
18:55 Vimes: That is the distance the bar went away from the target.  I can't see inside the 30min bar for example to say which occurs first but assumes you would have to sit through potentially that excusion to get the risk off on the target retracement level, it maybe gives some calibration for the amount of risk tolerance you would have to give
18:59 Vimes: to do something more precise we would have to build a shorter time frame study, say 5min cancles, and analyze the actual intraday bars, i wanted to avoid that so went with something that is more of a guide
19:04 cajun: yep... a conservative eastimate.. sounds like then a worst case estimate?... since youre using the full length of the excursion .   and that means " avg win"  is a conservative underestimate of the same propirtion? 
19:06 Vimes: yes that is only the amount of positive expectancy on each ladder doesn't not net out a stop loss or whatever
19:09 cajun: im awed by the systematized step by step calculations .. will take me alot more code learning to fully understand.   seems like the math should be useful for extracting to other estimates.  nice work
19:15 Vimes: well thanks, not a coder, but can fake it every now and then
19:19 cajun: ha!
19:19 cajun: g.n. folks! all sweet dreams
19:21 Brad952: gn
19:22 MTS1: thanks TCuls!
19:23 Nube: Nice work, Vimes!
19:23 Vimes: ty
19:25 Vimes: Some typical observations on gap fills, i usually when you start to retrace to certain levels the probabiliy improves that you will close the full gap, this is similar to background on pivot points as well, this doesn't mean price has to do anything but just to be aware that once gaps start to retrace, there is positive expactancy that they will continue, so combined with other indicators can give some good trades, some also look at market internals at the open, tick, volume etc. to further screen gap fills
19:25 MTS1: a little long to read on my phone;) will check it out though, thanks for sharing!
19:26 slashgw: here is another study for gap fills if you have interest to check it out.  I did not write it.  it is from BigWaveDave http://tos.mx/uJmNWN#
19:27 MTS1: if it does not retrace though Vimes, higher possibility of a trend day for example
19:29 slashgw: it can be a trend day, till it turns and fills the gap ;)
19:30 MTS1: trend days oscillators don't work well & you should just get in when it pulls back to ma or trend line
19:31 slashgw: gap fill level is often a good entry location after it fills
19:32 slashgw: even if not on the same day
19:33 Vimes: Yes there are some theories that all gaps eventually fill with some high probability, but i have no data on that
19:33 slashgw: https://screencast.com/t/JfV5FBouM
19:34 slashgw: and the next one to look at on ES should be in the 2753 area
19:35 MTS1: I can see it's a natural SR level cuz people wish they bought at that point, jumping in when it gets back to that level
19:35 MTS1: *SR area
19:36 slashgw: https://screencast.com/t/3YqKK7TleIdJ
19:37 slashgw: well, imo, it's because of not getting left behind.
19:37 Vimes: that's the study you shared last week?
19:37 Vimes: or so
19:38 slashgw: the one in screencast  just showing the horizontal purple lines, yes.
19:39 slashgw: http://tos.mx/fubvrS#
19:40 Vimes: thx
19:42 G3_: nice charting slashgw
19:43 slashgw: with regard to ES, any gap greater than 10 points in either direction is considered a "pro gap & go", so odds are obviously much less to immediately fill.  then tend to just keep trading away, but when a trading setup does break, then typically the gap level will become the target.  But within that 10 point or less gap, odds of gapfill can be quite good.  as always, anything is possible though.
19:43 slashgw: thanks G3
19:46 Vimes: There was a trade setup proposed by noble, that related to overnight trade that exceeded the maintenance margin, the idea if the gap was that large folks woudl immediately cover causing a short burst of trade continuing
19:46 slashgw: ah, interesting theory.  thanks.
19:48 Ariana3: I've heard about a maintenance margin strategy before. Sounds interesting, do you guys have a strategy or an indicator for it?
19:49 G3_: a 10 point + gap?
19:50 G3_: seems it would have to be +15 to rattle thoses cages.
19:51 Ariana3: Yes, by Noble in a book The Trader's Edge, that is where I've read it.
19:51 Vimes: you would have to look at the contract specs, i think its something like 22 points on nq
19:51 Vimes: ^arana correct
19:51 G3_: I was referring to /es
19:51 Nube: 5000 worth of gap seems like it might be enough to spook margins and blow through a ot of stops so I can believe that
19:52 Nube: Traders are concerned, price continues because of covering and they bail out. Can see it.
19:52 Nube: arithmetic was never my strong suit
19:53 Nube: or reading or writing
19:53 slashgw: yeah, can def see it.  just never thought about it from that perspective.  always looked at it from a FOMO perspective.
19:53 slashgw: napping is my strong suit
19:53 slashgw: oh, and recess
19:54 Nube: Now we gotta make an overnight margin trouble script
19:54 slashgw: that could become an important one soon :)
19:55 Ariana3: He calls it "the Initial-Maintenance Opening Rule"
19:56 Vimes: i can't find my book, so don't recall the full details
19:56 Vimes: i think its the delta between the initial and maintenacne margin
19:56 Vimes: which maybe could vary by futures broker
19:56 Ariana3: I have it, hold on
19:57 G3_: when and if margin req are raised.  They are sure as hell not going to be lowered anytime soon. fwiw
19:58 Vimes: i recall the language in teh book being kind of murky, it was a bit dated
19:58 Ariana3: https://www.screencast.com/t/l7tiQglmX1
20:00 admin_tculs: gn all
20:00 Vimes: gn
20:00 G3_: good eve tculs
20:00 G3_: and all
20:00 Ariana3: gn TC
20:00 slashgw: gn tculs & all
------- Monday, October 22, 2018 -------
05:44 Lippy1m: Hello I am looking to do a simple scan with the relative strength of a stock crossing below the SPX and although I can get that to show up on my charts, I am having a hard time configuring a scan for the same.  Can anybody help me out please?
07:14 chief: Lippy, try this...note that I am not a scripter...
input length = 63;
def IWMPctChg = (close( period = "Day") / close( period = "Day")[length]) - 1;
def SPYPctChg = (close("SPY", period = "Day") / close("SPY", period = "Day")[length]) - 1;
def rs =  100*(IWMPctChg - SPYPctChg);
def rsSPX = rs;
#plot crossup = rs>0 and rs[1]<0;
plot crossdn = rs<0 and rs[1]>0;
07:15 chief: Wait, cannot have sec aggs in scan
07:16 chief: Try this....
def IWMPctChg = (close / close[length]) - 1;
def SPYPctChg = (close("SPY") / close("SPY")[length]) - 1;
07:45 chief: One last time hopefully...
def  PctChg = (close / close[length]) - 1;
def rs =  100*(PctChg - SPYPctChg);
07:47 JohnnyQuotron: Good morning thinkScript Lounge.
07:55 chief: GM, I think I scared Lippy away ,lol. I think TDA reports today
08:02 tarbog: hello, i have a simple script to draw the days mid point that just shows a horizontal line that move as new highs and lows are made.� how would i add a time factor to it to make it more like the vwap or a moving average that would track the mid point of the day to that time and leave that plot there and adjust through out the day so you could see where the mid point of the day was at any time of the day.    
08:08 Mobius: get the barNumber() at time and hold that value as the plot
08:12 Mobius: Example:
def time = if SecondsTillTime(0930) == 0
                  then barNumber()
                 else double.nan;
def price = if !isNaN(time)
                   then hl2
                  else price[1];
plot lineAtTime = if barNumber() >= HighestAll(time)
                              then highestAll(if isNaN(close[-1])
                                                        then price
                                                        else double.nan)
                             else double.nan;
08:13 Mobius: For more examples go to Mobius on MyTrade
08:13 chief: There is a built in study HighLowMA that may work for you also
08:13 chief: Midle high low MA
08:15 Mobius: +1% Globex range with avg volume. Should be a good trading range today.
08:16 Mobius: BTW -  Good morning all
08:16 UpTheCreek: GM
08:16 DMonkey: morning....
08:17 Mobius: Feel like Mr Rogers this morning. It's a beautiful day in the neighborhood
08:17 DMonkey: ###   tarbog chat request   ###
###   Chat Request Highest High RTH // Lowest Low RTH   ###
###   DMonkey 11/12/2016   ###
###   Plots from Market Open to Market Close   ###
input market_open = 0930;
def   h = high;
def l = low;
input Duration_In_Hours = 6.5;
def   Market_Duration = Duration_In_Hours * 60 * 60; 
def   Go_Time = secondsFromTime(market_open);
def   openhigh = if Go_Time == 0 
                 then h
                 else if h > openhigh[1]
                 else openhigh[1];
plot   data =    
                 if Go_Time >= 0 
                 && go_Time <= market_Duration
                 then highestall(if isnan(close[-1]) then openhigh else double.nan)
data.setpaintingStrategy(PaintingStrategy.DASHES);
data.setdefaultColor(Color.YELLOW);
data.setlineWeight(3);
def openlow = if Go_Time == 0
              then l
              else if  l < openlow[1]
              else openlow[1];
plot data2 =     if Go_Time >= 0 
                 then highestall(if isnan(close[-1]) then openlow else double.nan)
                 else double.nan
                ;
data2.setpaintingStrategy(PaintingStrategy.DASHES);
data2.setdefaultColor(Color.MAGENTA);
data2.setlineWeight(3);
###   Added Alerts // Chat Room Request ###
###   7/20/2017   ###
alert(high > openhigh[1],"New Intraday High", Alert.BAR, Sound.Ring);
alert(low < openlow[1],"New Intraday Low", Alert.BAR, Sound.Bell);
###   10.22.2018   ###
###   Chat Request Tarbog   ###
###   Added HL2   ###
plot mid = (openhigh + openlow) * .5;
mid.setpaintingStrategy(paintingStrategy.POINTS);
mid.setdefaultColor(color.cyan);
###   End Code   ##
08:18 DMonkey: are you changing into your sweater?
08:21 Mobius: Just about cool enough for one  :)
08:27 tarbog: thanks guys.  
08:28 trendman: GM all
08:29 trendman: Stuck on a scan writing SMA 1 > SMA 2 by $2.00.  Any thoughts?
08:31 DMonkey: sma1 - sma2 > 2
08:31 DMonkey: assuming you defined your sma's....
08:33 trendman: yes, I have defined the SMA
08:37 trendman: I was trying to get fancy.  Simple works thanks.  Feel silly now!
08:42 UpTheCreek: well to get fancy sma1 > sma2 + 2
08:44 DMonkey: sma2 + 2 < sma1
09:12 Mobius: Bounced right off the lower reach of the implied move. Now it's time to fish or cut bait
09:27 randykreisel: Help with conditional orders.  I would like to test two conditions with AND.  All my reading says the order wizard only handles OR.  Help Please
09:28 Vimes: Mobius, i'm not getting the implied probable moves to plot today on /es, has worked like a charm in days past, is there something wrong?
09:29 AlphaInvestor: Vimes - likely the symbol change messing with you
09:30 Vimes: well it worked fin last week with the prior update
09:30 Mobius: The study is working fine.
09:30 Vimes: must be a data feed problem
09:33 Vimes: figured it out, i only had it on my 15min chart which i had changed over the weekend to hide ext hours - pbkac error
09:45 Vimes: ping pong
09:57 Nube: Alpha did a momersion study and it got me looking for ways to determine market regimes. One of the places I looked was comparing an ETF price to it's asset value using the .NV ticker symbol. It's late to the party but in case it's useful for ETF buyers / traders
09:57 Nube: 
# Discount or Premium to Net Asset Value
#be sure to use .nv
# Nube 10.21.18
declare lower;
    #inputs
input netAssetValue = "SPY.NV";
    #variables
def c = close;
def nav = close(netAssetValue);
def discount = nav - c;
    #plots
plot 
discountToNetAssetValue = discount;
discountToNetAssetValue.AssignValueColor(if   discount < 0
                                         then Color.DownTick
                                         else Color.UpTick);
AddChartBubble(!IsNaN(c) and IsNaN(c[-1]), discount,
""+GetSymbol()+" disount or premium \nto "+netAssetValue+": "+discount, 
if discount < 0 then Color.DownTick else Color.UpTick, discount > 0);
09:58 Nube: Now we need on the masters to show us how to manipulate the string so get it to pull the .NV ticker automatically
10:03 AlphaInvestor: Nuibe - string concatonation is easy peasy - it is pulling them apart that is impossible
10:05 Nube: def test = close(GetSymbol()+".NV");
10:05 Nube: I should have given it one more shot before giving up
10:07 John1a: When VWAP does not open with the price, is this a bug in TOS? https://www.screencast.com/t/sils0LXI
10:08 Nube: New and Improved
def nav = close(GetSymbol()+".NV");
discountToNetAssetValue.SetDefaultColor(Color.Gray);
""+GetSymbol()+" disount to\n"+GetSymbol()+".NV: "+discount, 
10:09 AlphaInvestor: der we go
10:09 John1a: "Normal" VWAP open: https://www.screencast.com/t/rHD5u6q561bG
10:10 MTS1: John; is that the built-in VWAP? Does not look like it.
10:11 John1a: MTS1: Yes, built-in, I just did not plot STD bands, just the VWAP
10:12 John1a: The dashed horizontal line is the built-in VWAP
10:13 Vimes: what are you plotting, i don't see that on my charts
10:13 MTS1: have not seen it behave like that John
10:14 John1a: Does not happen often, but if you do , for example, 60 days, 15 minutes on ES or RTY and scroll to the left, you will see a number of days when it did that
10:17 Vimes: sorry, i don't see that
10:19 MTS1: Looks like hte VWAP script uses the VWAP fundamental price value; if you're seeing the wrong 'price' or vwap value it may be a data feed issue on those time aggregations; not sure what days you see them on, are they holidays or other weird gaps?
10:19 John1a: Here is an exa ple on ES, starting on 09/10/18: https://www.screencast.com/t/qBFpFPnYug
10:19 MTS1: (uses VWAP and Volume)
10:23 Vimes: uncheck adjust for contract changes
10:23 John1a: ITt goes way back, for example, from 08/02/18, past 09/10/18 every day overnight open was like that
10:23 Vimes: or plot the exact contract
10:24 Nube: post the script, John1a
10:25 AlphaInvestor: undoubtedly PEBKAC error
10:25 John1a: Vimes: Interesting, unchecking fixed it, but isn't suppose to work with a continues contract?
10:26 John1a: Nube: It is a VWA which is in TOS
10:26 AlphaInvestor: is Start Aggregaion at Market Open checked?
10:26 John1a: VWAP
10:26 Vimes: its something you will never see in real time imo, its only in trying to back correct teh continuous contract, don't know the math behind how they do this
10:26 John1a: Alpha: No
10:27 DMonkey: John. Just write your own and initialize from your starting bar. Vwap isn’t hard to calculate.
10:27 MTS1: I can't replicate it on those dates / times; try it on a different computer John
10:27 Vimes: they are at minimum two instruments they are trying to blend together so maybe not so easy to make it look seamless
10:28 Nube: John, what time frame do you ahve selected?
10:28 John1a: If I uncheck "Adjust for contract changes" it snaps to the Globex open bar and looks correct
10:29 John1a: Nube: 15 minutes
10:30 Nube: No tchart aggregation. What time frame do oyu have selected in thte study input?
10:30 AlphaInvestor: he has DAY selected
10:30 Nube: I suspect you have day but want something else
10:31 John1a: Yes, day, no that is what I wanted, Day VWAP that starts at the session open (Globex) and goes till the end of the RTH
10:32 Nube: You don't get a choice in what time or price it begins calculating at, If you want that you would need to write your own as mentioned by DMonkey above.
10:33 John1a: What do you mean? Day starts at the rollover line on ES, RTY, etc
10:34 John1a: If I want it to always start at the rollover line I need to write my own?
10:35 Nube: I don't know what the study you have up is calculating from and neither do you. Write your own, be sure
10:37 Vimes: i may no t know either but seems like the solution is to uncheck adjust for contract changes, maybe i'm not seeing what you are seeing
10:37 John1a: I don't know how to write my own, but I have this
10:37 John1a: #
# TD Ameritrade IP Company, Inc. (c) 2011-2018
#
input numDevDn = -2.0;
input numDevUp = 2.0;
input timeFrame = {default DAY, WEEK, MONTH};
def cap = getAggregationPeriod();
def errorInAggregation =
    timeFrame == timeFrame.DAY and cap >= AggregationPeriod.WEEK or
    timeFrame == timeFrame.WEEK and cap >= AggregationPeriod.MONTH;
assert(!errorInAggregation, "timeFrame should be not less than current chart aggregation period");
def yyyyMmDd = getYyyyMmDd();
def periodIndx;
switch (timeFrame) {
case DAY:
    periodIndx = yyyyMmDd;
case WEEK:
    periodIndx = Floor((daysFromDate(first(yyyyMmDd)) + getDayOfWeek(first(yyyyMmDd))) / 7);
case MONTH:
    periodIndx = roundDown(yyyyMmDd / 100, 0);
def isPeriodRolled = compoundValue(1, periodIndx != periodIndx[1], yes);
def volumeSum;
def volumeVwapSum;
def volumeVwap2Sum;
if (isPeriodRolled) {
    volumeSum = volume;
    volumeVwapSum = volume * vwap;
    volumeVwap2Sum = volume * Sqr(vwap);
} else {
    volumeSum = compoundValue(1, volumeSum[1] + volume, volume);
    volumeVwapSum = compoundValue(1, volumeVwapSum[1] + volume * vwap, volume * vwap);
    volumeVwap2Sum = compoundValue(1, volumeVwap2Sum[1] + volume * Sqr(vwap), volume * Sqr(vwap));
def price = volumeVwapSum / volumeSum;
def deviation = Sqrt(Max(volumeVwap2Sum / volumeSum - Sqr(price), 0));
plot VWAP = price;
plot UpperBand = price + numDevUp * deviation;
plot LowerBand = price + numDevDn * deviation;
VWAP.setDefaultColor(getColor(0));
UpperBand.setDefaultColor(getColor(2));
LowerBand.setDefaultColor(getColor(4));
10:38 John1a: How would I write my own differently, the code above is from TOS
10:38 Nube: Try pasting that into a new study. Nobody can duplicate your problem using the stock study. IF the problem persists, contact ToS and let them know about it
10:40 John1a: If you have Adjust for contract changes checked, you don't see the same thing on ES on 09/10/18?
10:41 Vimes: i do not
10:42 John1a: Oh, ok, got it. I'll contact support. Thank you all.
10:43 Vimes: but unless you are doing some kind of backtesting who cares, teh current vwap will be on the actie contract
10:45 John1a: Vimes: Yes, I am doing some backtesting
10:46 JoshuaK: i have a question regarding how TOS references values from studies
10:46 John1a: How do I force it to start at the rollover line? Without unchecking "Adjust for contract changes" ?
10:47 Vimes: 9/10 per your request - i don't see the issue
 
10:47 JoshuaK: so lets say i go to Marketwatch>Quotes>customize the tool bar so that it has open close VWAP
10:47 JoshuaK: the VWAP is close study that has plots
10:47 JoshuaK: how does the column know to reference the specific value in the study called VWAP
10:47 John1a: Vimes: Do you have overnight displayed and Adjust for contract changes checked?
10:48 JoshuaK: the reason i ask because i have someself defined studies, and im  tryingto display only the values, but the study itself plots things. Im just trying to extract the value itself, and display it in a column
10:49 JohnnyQuotron: The LoungeArchive is current.
10:51 MTS1: Josh, reduce your study to one plot & add as custom column. more details in tutorials at tlc.thinkorswim.com
10:51 Vimes: John, that was without globex and without adjustment  with globex teh vwap study would start at the globex session initial condi, i believe
10:51 Nube: Joshua, the value itself is what is defined. plot is just the display of the value in a study.
10:51 John1a: Vimes: Yes, it should, but on those days, it does not
10:52 John1a: Vimes: Using just RTH, I don't have any issues either
10:53 JohnnyQuotron: I spent a couple of hours yesterday working in the Options Section of the OneNote.  I am doing my best to segregate true Options scripts from Volatility scripts.  Please be patient, these is a great deal of duplication in the Options Section and I am cleaning it out using the notepad++ compare addon.
10:54 JoshuaK: Nube, take for example the VWAP
10:54 JoshuaK: study if you go into the thinkscript, tehre are multiple values defined, price, vwap, pricesum etc.
10:54 Vimes: John, what is it you want? in your mind should vwap start at US RTH regardless of your settings?
10:55 JoshuaK: when you add the VWAP to the column, it gives you the actual VWAP value
10:55 MTS1: I have you the answer already Josh; reduce to one plot
10:55 JoshuaK: oh ok
10:55 JoshuaK: so when i reduce to one plot, the study automatically knows what to return?
10:56 MTS1: also really not realize specifically to VWAp; there's also a vwap fundamental price value that's used in but otherwise not related to the study
10:56 MTS1: yes try it Josh
10:56 Vimes: With globex, vwap starts at globex session
10:57 JoshuaK: will do
10:57 JoshuaK: thanks MTS1
10:57 MTS1: yw
10:58 Mobius: We've turned into support. Does that increase TDA bottom line?
10:58 John1a: Vimes: Is your "Adjust for contract change events" selected?
11:00 JohnnyQuotron: Mobius... it was many tractor trailers of JD ago, but in Oct 2013 you composed a script titled "Implied Volatility and RSI Combined Signal".  Was that intended as an example of a CSA script?  Which OneNote section would you recommend that I place it in?
11:01 Mobius: If you can remind me what I had for dinner last night I might recall that too
11:02 Vimes: John, no, but you can play with the different settings, and if its important there is an interanl vwap reference where you can roll your own for whatever it is your looking for
11:02 trader_s: is it possible to increase the font size on AddLabel  script ?? Thx
11:03 Mobius: no trader it's not
11:03 JohnnyQuotron: Mobius...thins may jog the little gray cells
11:03 trader_s: thx Mobius
11:03 Mobius: post the code Johnny
11:04 JohnnyQuotron: # Mobius©:Sat Oct-19-2013
# Implied Volatility and RSI Combined Signal
# Mobius
# V01.10.2013
input length = 21;
Assert(length > 0, "'length' must be positive: " + length);
   def IV = if isNaN(imp_volatility(period = AggregationPeriod.DAY))
            then IV[1]
            else imp_volatility(period = AggregationPeriod.DAY);
def price = close * IV;
def r = (price - price[1]) / ( (price + price[1]) / 2 );# difference divided by the average price
def SDr = StDev(r, length);
plot IVSwitch = ( fold i = 0 to length 
                          with count 
                          do count + if SDr[i] <= SDr 
                                     then 1 
                                     else 0 ) / length;
plot MidLine = 0.5;
IVSwitch.DefineColor("Trending", Color.UPTICK);
IVSwitch.DefineColor("Mean-Reverting", Color.DOWNTICK);
IVSwitch.AssignValueColor(if IVSwitch >= MidLine 
                          then IVSwitch.Color("Mean-Reverting") 
                          else IVSwitch.Color("Trending"));
MidLine.SetDefaultColor(GetColor(7));
# RSI Wilder with Divergence Markers
input nRSI = 14;         #hint nRSI: RSI periods
input nTrend = 100;      #hint nTrend: RSI Trend Line periods
input over_Bought = .70; #hint over_Bought: Over Bought Line
input over_Sold = .30;   #hint over_Sold: Over Sold Line
input TrendLine = {EMA, SMA, default LRL, WMA};
input AlertOn = yes;
   def o = open;
   def h = high;
   def l = low;
   def c = close;
   def NetChgAvg = WildersAverage(c - c[1], nRSI);
   def TotChgAvg = WildersAverage(AbsValue(c - c[1]), nRSI);
   def ChgRatio = if TotChgAvg != 0 
                  then NetChgAvg / TotChgAvg 
                  else 0;
  def RSIdata = 50 * (ChgRatio + 1) ;
  plot RSI = (RSIdata - LowestALL(RSIdata)) / 
             (HighestAll(RSIdata) - LowestAll(RSIdata));
  plot OverSold = over_Sold;
  plot OverBought = over_Bought;
  plot RSItrend;
  switch (TrendLine) {
  case EMA:
       RSItrend = ExpAverage(RSI, nTrend);
  case SMA:
       RSItrend = Average(RSI, nTrend);
  case LRL:
       RSItrend = InertiaAll(RSI, nTrend);
  case WMA:
       RSItrend = WMA(RSI, nTrend);
   def lowestLow = if RSI > over_Sold
                   then l
                   else if RSI < over_Sold and 
                           l < lowestLow[1]
                   else lowestLow[1];
   def lowestRSI = if RSI > MidLine
                   then RSI
                   else if RSI < MidLine and 
                           RSI < lowestRSI[1]
                   else lowestRSI[1];
   def divergentLow = if RSI < over_Sold and
                         l <= lowestLow[1] and 
                         RSI > lowestRSI[1]
                      then over_Sold
                      else Double.NaN;
  plot DLow = divergentLow;
       DLow.SetPaintingStrategy(PaintingStrategy.POINTS);
       DLow.SetLineWeight(2);
       DLow.SetDefaultColor(Color.YELLOW);
   def highestHigh = if RSI < over_Bought
                     then h
                     else if RSI > over_Bought and 
                             h > highestHigh[1]
                     else highestHigh[1];
   def highestRSI = if RSI < MidLine
                    then RSI
                    else if RSI > MidLine and 
                            RSI > highestRSI[1]
                    else highestRSI[1];
   def divergentHigh = if RSI > over_Bought and
                          h >= highestHigh and 
                          RSI < highestRSI
                       then over_Bought
                       else if RSI < over_Bought and 
                       c < o
                       then Double.Nan
                       else divergentHigh[1];
  plot DHigh = divergentHigh;
       DHigh.SetPaintingStrategy(PaintingStrategy.POINTS);
       DHigh.SetLineWeight(2);
       DHigh.SetDefaultColor(Color.YELLOW);
       RSI.DefineColor("OverBought", Color.Plum);
       RSI.DefineColor("Normal", Color.White);
       RSI.DefineColor("OverSold", Color.Yellow);
       RSI.AssignValueColor(if RSI > over_Bought 
                            then RSI.Color("OverBought") 
                            else if RSI < over_Sold 
                            then RSI.Color("OverSold") 
                            else RSI.Color("Normal"));
       OverSold.SetDefaultColor(Color.BLUE);
       OverBought.SetDefaultColor(Color.BLUE);
   def AlertCond1 = RSI crosses RSItrend;
  plot Bcond1 = if IVSwitch crosses below overBought within 2 bars and 
                   RSI > RSI[1]
                then OverSold
                else Double.NaN;
       Bcond1.SetPaintingStrategy(PaintingStrategy.Arrow_Up);
       Bcond1.SetLineWeight(3);
       Bcond1.SetDefaultColor(Color.Green);
  plot Bcond2 = if isDescending(IVSwitch) and 
                   isAscending(RSI) and
                   RSI crosses above RSItrend
                then RSItrend 
                else Double.NaN; 
       Bcond2.SetPaintingStrategy(PaintingStrategy.Arrow_Up);
       Bcond2.SetLineWeight(2);
       Bcond2.SetDefaultColor(Color.Light_Green);
  plot Scond1 = if IVSwitch > IVSwitch[1] and
                   RSI crosses below overBought
                then overBought
       Scond1.SetPaintingStrategy(PaintingStrategy.Arrow_Down);
       Scond1.SetLineWeight(3);
       Scond1.SetDefaultColor(Color.Red);
  Alert(AlertCond1, "RSI crossed RSI Trend Line", Alert.Bar, Sound.Bell);
# End Code IV and RSI Combined Signal
11:04 AlphaInvestor: I would create a separate section for Combined Signal Apporach scripts
11:05 Mobius: Johnny that study is Not a CSA. Price is altered using IV which would cause it to run faster in higher volatility and slower in lower
11:06 JohnnyQuotron: Alpha... I would like to do that if only to attract more over time
11:07 Mobius: A better approach would be to alter the length for RSI using Series IV which we didn't have when that study was written
11:09 JohnnyQuotron: Sounds like a worthwile project for someone more advanced than I.  
11:09 JohnnyQuotron: I will plce the script in the RSI section as opposed to volatility unless you reccomend differently.
11:10 Mobius: That works for me
11:11 Mobius: To alter length using IV is pretty straight forward. Normalize IV to a useful RSI lenght.
11:11 JohnnyQuotron: Thank you.  You are the best!  By the way this morning I picked up Lobster Rolls for my wife and for lunch today.  Its Stone Crab season but with the Red Tide ???
11:12 Mobius: yeah   that whole red tide thing makes seafood a bit risky
11:13 Mobius: That storm hasn't helped either
11:13 Vimes: Did alot of random coding over the weekend and wanted to share this based on a TASC article around fractal efficency, the backtesting looked somewhat encouraging so thought i'd share with the group:
#Polarized fractal energy strat
#Hans Hannula TASC V12.1
#"PFE tends to have a maximum efficiency of about 43%, either going up or down. This has been found to be true for all stock indices. Other stocks and commodities tend to have slightly different maximums, but the maximum has always been observed. Also note that the transition from trending up to trending down is usually smooth. However, the efficiency may bounce off the zero line or oscillate around it for a time. This middle region is a balance of supply and demand and, thus, a congestion point." -- Hans Hannula
#Version 1
#Study Name Short PFE_Strat 
#Date: 2018/10/21
#Coded in TOS by Vimes
input length = 10;
input smooth = 5;
input UpperBand = 50; #hint UpperBand: Efficiency Upperband, experiement with different triggers (43,50,60,etc);
input LowerBand = -50;
input BuyOnLowerCross = no; #hint BuyOnLowerCross: If "yes" buys on the cross above the lower band (not reccomended).  If no buys on the cross of the upper band (this is reccomended).  Sells are then opposite w.r.t to the lower band
input reverse = no; #hint reverse:Reverses the buy sell signal for the contrarian in you
input osize = 5;
def A = Sqrt(sqr(close - close[length-1]) + sqr(length));
def B = Sum(Sqrt(sqr((close - close[1])) + 1), length);
def FE = If(close - close[length-1] > 0, A/B*100 , -A/B*100);
def FE_EMA = ExpAverage(FE, smooth);
def long_ = If(FE_EMA crosses above If(BuyOnLowerCross, LowerBand, UpperBand), 1, 0);
def short_ = If(FE_EMA crosses below If(BuyOnLowerCross, UpperBand, LowerBand), 1, 0);
def long = If(short_ and reverse, 1, If(long_, 1, 0));
def short = If(long_ and reverse, 1, If(short_, 1, 0));
AddOrder(condition = long, tradeSize = osize, tickcolor = Color.CYAN, arrowcolor = Color.CYAN, name = "PFE:LE");
AddOrder(tradeSize = osize, tickcolor = Color.LIGHT_RED, arrowcolor = Color.LIGHT_RED, name = "PFE:SE", condition = short, type = OrderType.SELL_AUTO);
11:14 Mobius: Apalach.. Is looking at a possible loss for the oyster industry for decades to come
11:19 Ariana3: Mobius: Do you have a script that plots the third moment of volume distribution?
11:20 Mobius: When you read Mandelbrot's work and look at his set you come away with the idea he'd have much more likley wanted to measure the edges of price and find a predictive value along those edges than the PFE indicator that carries the notion of his work.
11:21 Mobius: Ariana... Why?
11:21 Ariana3: Because it is very useful to know the skew.
11:22 JohnnyQuotron: Naples/Ft.Myers may lose the entire 2018 StoneCrab season. But likely just this one.  
11:22 Mobius: Why didn't you just ask for skew. I'm not easily impressed
11:22 Vimes: If i undersood the premis correctly it is in that the author was trying to measure the edges in ratio to the straight line trend as a measure of "ease of movement" if you will
11:24 Mobius: Vimes  Where in those calculations do you see that??
11:25 Ariana3: Not trying to impress...because it seems  that the third volume of the volume distribution is a better way of doing it, but it seems that it cannot be done in TOS, because the profile is locked
11:25 Vimes: The numerator A was supposed to be this approximation - vs the straigt line B
11:26 Ariana3: VWAP + (SKEW * SD)
11:28 Ariana3: Something like this: CM3 = sum (PROBI * (Pi - VWAP) ^ 3
11:30 Mobius: Ariana.. 
# Volume Skew
# Chat room request 10.22.2018
plot Data = Power(volume - average(volume, 60), 3) / 
           Sqrt(Power(Sqr(volume - Average(volume, 60)), 3));
11:32 Ariana3: Where “i” is going through all prices in range (i.e., all rows in Volume Distribution Function), CM3..the 3rd Central Moment, PROBI = Vi/V…its price probability (Volume per its price / Total Volume), Pi…the price in the Volume Distribution function…Then the Skew would be Skew = CM3 / SD^3
11:33 Mobius: Vimes - Have you ever looked at PFE and FE side by side?
11:36 Vimes: You have me at a disdavantage because i don't know where you are going, and you are likely much smarter than me, but if you are sayign the fractal efficency in reference versus fractal energy i would think they are quite different
11:37 Mobius: Vimes  Take a look and don't guess.. 
11:37 Mobius: You've got a good head for math.  What do you see?
11:41 Vimes: I would say it is almost trying to estimate the slope of the edge, except in that in the fractal energy case it is taking each against a ratio of the true range which i don't quite visualize
11:48 Mobius: Yep very close.. FE does a better job of showing when price is linear since it converts it to a log value.  If Mandelbrot were to start with those two my feeling is he'd use the FE as a central limit and PFE or some other measure of fractal length to determine how far price is traveling to make a predetermined fixed measure over a predetermined fixed length of time. 
11:48 Mobius: The half life of price movement through the fractal range if you will
11:49 Vimes: i guess to take a leap FE seems to be summing the true range over the period (which i'm not sure why it would seen to be an additive property) and taking the current periods high/low range as a ratio to this.  It would almost assume that each rangeis pure momentum versus the actual meausred range
11:52 Mobius: What we do know is any notion that price can be predicted from any use of a normal distribution is flawed.
Therefore price is always random. How do you measure random?
11:52 Vimes: so i guess in that way as you say it saying how much of the current high low range is a perfect linear trend on the A to B distance, i think i can see that
11:52 Mobius: yes
11:53 Mobius: Or at the very least  Random With Drift
11:54 Mobius: Worthless information for traders. Very useful for investors
11:54 Nube: I guess this means a Mandelbrot isn't a musical instrument...
11:54 Mobius: ha
11:55 AlphaInvestor: a musical instrument that hits random notes ... but in a repeating self-similar series
11:56 Vimes: so geometrically its saying estimate a triangle that woudl assume each true range over the period is positive so what woudl the maxium be so to speak, and the estimating the "real" observed Ya to Yb as a ratio to tis perfect triangle
11:56 Mobius: lol  that's pretty good Alpha
11:57 Mobius: Vimes.. I don't know if that would work. I've been trying to find a useful method for quite a while. And so far no joy. But as far as math and the market is concerned, to me that is the grail.
11:58 FrankB3:   Mr. Mo:: was that your idea putting the FE with the RSI LaGeaure???
11:58 Mobius: Problems Solved:
Linear estimating
True Momentum
Price Path prediction
Investment Moment
11:58 AlphaInvestor: The best way that PFE was described to me was - the ratio of a straight line direction to get from point A to Point B ... to the way that Price ACTUALLY got from Point A to Point B
11:59 Nube: Alpha, Thanks. I have a new respect for Yoko Ono now.
11:59 Mobius: Frank - yes
12:00 _Coleman_: Is it possible to write a script that will alert or scan  when a candle closes above the Kijun on the Ichimoku Cloud. 
12:00 Vimes: bless you
12:00 AlphaInvestor: Coleman - yes
12:00 Ariana3: I saw a t-shirt yesterday, "Still Hate Yoko" :)
12:01 Vimes: I think JNJ sells a cream if you've got Ichimoku
12:02 Nube: Judging by how many requests we've had lately, buy JnJ
12:07 Vimes: Coleman, i don't use the cloud but something like this might work or there maybe is a built in scanner
plot scan = close crosses above Ichimoku().Kijun;
12:09 Nube: Getting back to the side tracked discussion, does that mean we may want to account for fractal energy in the fractal efficiency?
12:10 Vimes: boom
12:11 Mobius: Coleman
# Scan - Comment out (#) the one you don't want
Ichimoku()."Kijun" crosses above MAX(Ichimoku()."Span A", Ichimoku()."Span B")
# Ichimoku()."Kijun" crosses below Min(Ichimoku()."Span A", Ichimoku()."Span B")
12:16 _Coleman_: Thanks as always.
12:16 Vimes: another happy customer
12:20 Nube: I wish you smart people would hurry up and solve markets for me already. I'm sitting here looking and breadth and volatility and means and monthly charts when you could just supply me with an indicator
12:23 Nube: All I want to do is type VZ or whatever in the ticker box and have the lower panel display a big Buy, Sell or Hold
12:25 Vimes: lol
12:27 Vimes: VZ, holding up well btw, but who the heck nows
12:27 Nube: Disclosure: Author does have a position in the above ticker by way of ETF and intends to initiate another
12:28 Nube: That was the first ticker that came to mind because I was just taking another look at it. Max Monthly view that thing is a monster
12:34 Vimes: addlabel BUY VZ
12:35 AlphaInvestor: AssignBackgroundColor(col.rgreen);
12:36 Vimes: i wonder how much impact the reshuffling into the XLC sector is having on rotatino into names like DISCA and VZ over google, nflx, etc
12:37 Nube: Fair question, Vimes. Sort of wonder the same about FB as well.
12:38 Vimes: i think the secotr is getting a lift because funds have to then put there money in the other names, maybe?
12:38 Nube: It's not a new thing so I imagine Funds have been positioning for a long time
13:24 JohnnyQuotron: Mobius/Vimes.. I just read your FE PFE exchange for the third time.  How do I get my eyes uncrossed ?  Where is the Dramamine?  But if there is something there for investors.. can you dumb it down for me a bit please...
13:26 Vimes: i think for investors ignore both and buy AAPL?
13:27 Nube: Not trying to pretend I understand  fractals, polarizing stuffs or efficiency, but doesn't the cross of zero make more sense than using an EMA?
13:29 Nube: AAPL has had a bit too much volatility up here for my tastes. Not touching it.
13:30 Nube: But certainly wouldn't short a cash machine that has a heretofore untouchable lead position in brand and product quality
13:30 Vimes: it maybe is the last mand standing but one of the few holding the quarter, if it goes we might be in trouble
13:31 Nube: With AAPL being like 6 percent of the index or whatever, if it goes the index doesn't have a choice
13:44 Nube: I haven't figured out what it is yet, but there is something about stock price behavior around earnings that causes those tickers to come up in my scans more often
14:12 Nube: See y'all later. Time to get some sunshine.
14:14 JohnnyQuotron: Nube... thanks a million.  Enjoy your afternoon.
14:14 ittechman: How do I create a stock scan that finds stocks that are trading in a range? Thank you!
14:19 MTS1: IT; what range?
14:21 ittechman: Lets say from 90.00 to 100.00 as an exammple..
14:21 MTS1: Dollars?
14:21 Farmin: for how long?
14:21 MTS1: you can type that directly in the scanner
14:23 MTS1: Look up the chapber on stock hacker in the tutorials in tlc.thinkorswim.com
14:24 MTS1: add filter for stock - close - set min and max.
14:24 Vimes: Mobius had a great scan that id's stocks in a range, let me see if i can find it, there are also several methods to do this, without a specifying a price range
14:26 MTS1: Depends on what he is looking for.
14:26 ittechman: VImes, yes that would be much better, to be able to do it without specifyng a range!!!! That is exactly what I am looking for!
14:27 MTS1: It depends how you define a range; many TA ways of doing this. You can look for BB contractoin, ADX, ECI, Fractal Pivots, and I'm sure there's more;)
14:27 Vimes: This should id stocks trading in a consolidatino pattern:
# Consolidation Scan
# 5.2.2017
# If you want  relatively short term consolidation leave the 
# lengths at 10 and use a daily scan. For a bit more consolidation 
# make lengths 13 and if you want equities that have been in 
# consolidation for a long time use a monthly scan
 (Log(Sum(Max(high, close[1]) - Min(low, close[1]), 10) / 
     (Highest(high, 10) - Lowest(low, 10))) / 
      Log(10)) > .7
14:27 ittechman: There are some stocks that trade in a range over and over again, that scan will be a wonderful tool!!!!!!!
14:27 Farmin: you always have to specify a range, even with that code
14:28 Vimes: Another one that i used in the past is the aroon oscillator
def consolidation = (AroonIndicator() < 30 and AroonIndicator().Down < 30) within 6 bars;
def breakout = sum(AroonIndicator(),3)> 3*90 and aroonIndicator().down < 30;
plot cond = consolidation and breakout;
14:28 Farmin: if you don't understand the range part of that code, get out a calculator
14:32 ittechman: Thank you all VERY MUCH!!!!!!!
14:41 ittechman: Are there other scans, like for stock that are just breaking out after a consolidation?
14:43 Vimes: i'm sure there are dozens of options, you can look at some of the linear channel breakouts that are built ino the scanner already as an example
14:43 Vimes: you can look fro break of prior highs, on an on
14:49 ittechman: Thank you!!!!!!!
15:04 AlphaInvestor: AMTD beat E, beat R - must be our fine support in this chat room  ;-)
15:09 Vimes: yeah free lifetime trades all around!!
